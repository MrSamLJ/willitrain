<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPX Route Uploader</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-gpx/1.7.0/gpx.min.js"></script>
    <script src="https://unpkg.com/leaflet-polylinedecorator/dist/leaflet.polylineDecorator.js"></script>
    <script src="script.js" defer></script>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-bicycle"></i> Upload Your Bike Route <i class="fas fa-bicycle"></i></h1>
        </header>
        <div class="content">
            <div class="left-section">
                <h2><i class="fas fa-cloud-sun"></i> Route Details</h2>
                <p>Weather forecast will be shown for the <strong>start time and location</strong> of your route.</p>
                <div class="input-group">
                    <label for="gpxFile"><i class="fas fa-file-upload"></i> GPX File: *</label>
                    <input type="file" id="gpxFile" accept=".gpx" required>
                </div>
                <div class="input-group">
                    <label for="startDate"><i class="fas fa-calendar-alt"></i> Start Date: *</label>
                    <input type="date" id="startDate" required>
                </div>
                <div class="input-group">
                    <label for="startTime"><i class="fas fa-clock"></i> Start Time: *</label>
                    <input type="time" id="startTime" required>
                </div>
                <div class="input-group">
                    <label for="avgSpeed"><i class="fas fa-tachometer-alt"></i> Average Speed (km/h): *</label>
                    <input type="number" id="avgSpeed" step="0.1" min="0" required>
                </div>
                <button id="uploadButton"><i class="fas fa-upload"></i> Upload GPX File</button>
                <div id="fileInfo"></div>
            </div>
            <div class="right-section">
                <h2><i class="fas fa-cog"></i> Ride Settings</h2>
                <p class="subtitle">Optional coffee stop settings:</p>
                <div class="input-group">
                    <label for="coffeeStop1"><i class="fas fa-mug-hot"></i> Coffee Stop 1 (km into ride):</label>
                    <input type="number" id="coffeeStop1" min="0" step="0.1">
                </div>
                <div class="input-group">
                    <label for="coffeeStopDuration1"><i class="fas fa-hourglass-half"></i> Coffee Stop 1 Duration (minutes):</label>
                    <input type="number" id="coffeeStopDuration1" min="0" value="15">
                </div>
                <div id="secondCoffeeStop" style="display: none;">
                    <div class="input-group">
                        <label for="coffeeStop2"><i class="fas fa-mug-hot"></i> Coffee Stop 2 (km into ride):</label>
                        <input type="number" id="coffeeStop2" min="0" step="0.1">
                    </div>
                    <div class="input-group">
                        <label for="coffeeStopDuration2"><i class="fas fa-hourglass-half"></i> Coffee Stop 2 Duration (minutes):</label>
                        <input type="number" id="coffeeStopDuration2" min="0" value="15">
                    </div>
                </div>
                <button id="addCoffeeStop"><i class="fas fa-plus"></i> Add Second Coffee Stop</button>
                <div id="map"></div>
                <p class="note">* Indicates required field</p>
            </div>
        </div>
        <button id="shareButton">Share Route</button>
        <button id="downloadButton">Download GPX</button>
    </div>
</body>
</html>